(function(f){var o;f.fn.undoChanges=function(){o.undoChanges();return this};f.fn.updateChanges=function(){o.updateChanges();return this};f.fn.setTransition=function(H){o.setTransition(H);return this};f.fn.setEasing=function(H){o.setEasing(H);return this};f.fn.setTextEffect=function(H){o.setTextEffect(H);return this};f.fn.setTooltipType=function(H){o.setTooltipType(H);return this};f.fn.setCpanelAlign=function(H){o.setCpanelAlign(H);return this};f.fn.setCpanelPos=function(H){o.setCpanelPos(H);return this};f.fn.setThumbs=function(H){o.setThumbs(H);return this};f.fn.setDButtons=function(H){o.setDButtons(H);return this};f.fn.setPlayButton=function(H){o.setPlayButton(H);return this};f.fn.setTooltip=function(H){o.setTooltip(H);return this};f.fn.setTimerBar=function(H){o.setTimerBar(H);return this};f.fn.setSideButtons=function(H){o.setSideButtons(H);return this};f.fn.setThumbImg=function(H){o.setThumbImg(H);return this};f.fn.setMouseoverPause=function(H){o.setMouseoverPause(H);return this};f.fn.setMouseoverCPanel=function(H){o.setMouseoverCPanel(H);return this};f.fn.setMouseoverText=function(H){o.setMouseoverText(H);return this};D.prototype.undoChanges=function(){this.resetTimer();if(this.vStripeEffect){this.vStripes.clear()}if(this.hStripeEffect){this.hStripes.clear()}if(this.blockEffect){this.blocks.clear()}f("#rotator-tooltip").remove();this._$obj.empty();this._$obj.append(this._$cloneDom)};D.prototype.updateChanges=function(){this.init()};D.prototype.setMouseoverPause=function(H){this._pauseMouseover=window.Touch?false:H};D.prototype.setMouseoverText=function(H){this._textMousover=window.Touch?false:H};D.prototype.setMouseoverCPanel=function(H){this._cpMouseover=window.Touch?false:H};D.prototype.setTransition=function(H){this._globalEffect=H};D.prototype.setEasing=function(H){this._easing=H};D.prototype.setTextEffect=function(H){this._textEffect=H};D.prototype.setThumbs=function(H){this._displayThumbs=H};D.prototype.setDButtons=function(H){this._displayDBtns=H};D.prototype.setPlayButton=function(H){this._displayPlayBtn=H};D.prototype.setTimerBar=function(H){this._displayTimer=H};D.prototype.setSideButtons=function(H){this._displaySideBtns=H};D.prototype.setThumbImg=function(H){this._displayThumbImg=H;if(this._displayThumbImg){this._thumbWidth=this._thumbHeight=45;this._displayNumbers=false}else{this._thumbWidth=this._thumbHeight=24;this._displayNumbers=true}};D.prototype.setCpanelAlign=function(H){this._cpAlign=H};D.prototype.setCpanelPos=function(H){this._cpPos=H};D.prototype.setTooltipType=function(H){this._tipType=H};var n="inside";var u="outside";var F=0;var G=1;var m={TL:0,TC:1,TR:2,BL:3,BC:4,BR:5,LT:6,LC:7,LB:8,RT:9,RC:10,RB:11};var e=0;var l={"block.top":e++,"block.right":e++,"block.bottom":e++,"block.left":e++,"block.drop":e++,"diag.fade":e++,"diag.exp":e++,"rev.diag.fade":e++,"rev.diag.exp":e++,"block.fade":e++,"block.exp":e++,"block.top.zz":e++,"block.bottom.zz":e++,"block.left.zz":e++,"block.right.zz":e++,"spiral.in":e++,"spiral.out":e++,"vert.tl":e++,"vert.tr":e++,"vert.bl":e++,"vert.br":e++,"fade.left":e++,"fade.right":e++,"alt.left":e++,"alt.right":e++,"blinds.left":e++,"blinds.right":e++,"vert.random.fade":e++,"horz.tl":e++,"horz.tr":e++,"horz.bl":e++,"horz.br":e++,"fade.top":e++,"fade.bottom":e++,"alt.top":e++,"alt.bottom":e++,"blinds.top":e++,"blinds.bottom":e++,"horz.random.fade":e++,none:e++,fade:e++,"h.slide":e++,"v.slide":e++,random:e++};var C={fade:0,down:1,right:2,up:3,left:4,none:5};var s=250;var h=75;var b=50;var t=5000;var z=800;var y=500;var r=600;var A=4;var k=50;var g="updatetext";var x="updatelist";var B=a(7);function c(H){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=H;this._areaWidth=H._screenWidth;this._areaHeight=H._screenHeight;this._size=H._vertSize;this._delay=H._vertDelay;this.init()}c.prototype.init=function(){this._total=Math.ceil(this._areaWidth/this._size);if(this._total>s){this._size=Math.ceil(this._areaWidth/s);this._total=Math.ceil(this._areaWidth/this._size)}var I="";for(var H=0;H<this._total;H++){I+="<div class='vpiece' id='"+H+"' style='left:"+(H*this._size)+"px; height:"+this._areaHeight+"px'></div>"}this._rotator.addToScreen(I);this._$stripes=this._rotator._$obj.find("div.vpiece");this._arr=this._$stripes.toArray()};c.prototype.clear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(true).css({"z-index":2,opacity:0})};c.prototype.displayContent=function(H,I){this.setPieces(H,I);if(I==l["vert.random.fade"]){this.animateRandom(H)}else{this.animate(H,I)}};c.prototype.setPieces=function(H,I){switch(I){case l["vert.tl"]:case l["vert.tr"]:this.setVertPieces(H,-this._areaHeight,1,this._size,false);break;case l["vert.bl"]:case l["vert.br"]:this.setVertPieces(H,this._areaHeight,1,this._size,false);break;case l["alt.left"]:case l["alt.right"]:this.setVertPieces(H,0,1,this._size,true);break;case l["blinds.left"]:case l["blinds.right"]:this.setVertPieces(H,0,1,0,false);break;default:this.setVertPieces(H,0,0,this._size,false)}};c.prototype.setVertPieces=function(H,O,P,K,N){var R=H.attr("src");var Q=0;var J=0;if(this._rotator._autoCenter){Q=(this._areaHeight-H.height())/2;J=(this._areaWidth-H.width())/2}for(var L=0;L<this._total;L++){var I=this._$stripes.eq(L);var M=((-L*this._size)+J);if(N){O=(L%2)==0?-this._areaHeight:this._areaHeight}I.css({background:"url('"+R+"') no-repeat",backgroundPosition:M+"px "+Q+"px",opacity:P,top:O,width:K,"z-index":3})}};c.prototype.animate=function(J,K){var L=this;var N,I,M,H;switch(K){case l["vert.tl"]:case l["vert.bl"]:case l["fade.left"]:case l["blinds.left"]:case l["alt.left"]:N=0;I=this._total-1;M=1;break;default:N=this._total-1;I=0;M=-1}this._intervalId=setInterval(function(){L._$stripes.eq(N).animate({top:0,opacity:1,width:L._size},L._rotator._duration,L._rotator._easing,function(){if(f(this).attr("id")==I){L._rotator.showContent(J)}});if(N==I){clearInterval(L._intervalId);L._intervalId=null}N+=M},this._delay)};c.prototype.animateRandom=function(I){var K=this;v(this._arr);var H=0;var J=0;this._intervalId=setInterval(function(){f(K._arr[H++]).animate({opacity:1},K._rotator._duration,K._rotator._easing,function(){if(++J==K._total){K._rotator.showContent(I)}});if(H==K._total){clearInterval(K._intervalId);K._intervalId=null}},this._delay)};function w(H){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=H;this._areaWidth=H._screenWidth;this._areaHeight=H._screenHeight;this._size=H._horzSize;this._delay=H._horzDelay;this.init()}w.prototype.init=function(){this._total=Math.ceil(this._areaHeight/this._size);if(this._total>s){this._size=Math.ceil(this._areaHeight/s);this._total=Math.ceil(this._areaHeight/this._size)}var I="";for(var H=0;H<this._total;H++){I+="<div class='hpiece' id='"+H+"' style='top:"+(H*this._size)+"px; width:"+this._areaWidth+"px'><!-- --></div>"}this._rotator.addToScreen(I);this._$stripes=this._rotator._$obj.find("div.hpiece");this._arr=this._$stripes.toArray()};w.prototype.clear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(true).css({"z-index":2,opacity:0})};w.prototype.displayContent=function(H,I){this.setPieces(H,I);if(I==l["horz.random.fade"]){this.animateRandom(H)}else{this.animate(H,I)}};w.prototype.setPieces=function(H,I){switch(I){case l["horz.tr"]:case l["horz.br"]:this.setHorzPieces(H,this._areaWidth,1,this._size,false);break;case l["horz.tl"]:case l["horz.bl"]:this.setHorzPieces(H,-this._areaWidth,1,this._size,false);break;case l["alt.top"]:case l["alt.bottom"]:this.setHorzPieces(H,0,1,this._size,true);break;case l["blinds.top"]:case l["blinds.bottom"]:this.setHorzPieces(H,0,1,0,false);break;default:this.setHorzPieces(H,0,0,this._size,false)}};w.prototype.setHorzPieces=function(H,L,O,Q,N){var R=H.attr("src");var P=0;var J=0;if(this._rotator._autoCenter){P=(this._areaHeight-H.height())/2;J=(this._areaWidth-H.width())/2}for(var M=0;M<this._total;M++){var I=this._$stripes.eq(M);var K=((-M*this._size)+P);if(N){L=(M%2)==0?-this._areaWidth:this._areaWidth}I.css({background:"url('"+R+"') no-repeat",backgroundPosition:J+"px "+K+"px",opacity:O,left:L,height:Q,"z-index":3})}};w.prototype.animate=function(I,J){var K=this;var M,H,L;switch(J){case l["horz.tl"]:case l["horz.tr"]:case l["fade.top"]:case l["blinds.top"]:case l["alt.top"]:M=0;H=this._total-1;L=1;break;default:M=this._total-1;H=0;L=-1}this._intervalId=setInterval(function(){K._$stripes.eq(M).animate({left:0,opacity:1,height:K._size},K._rotator._duration,K._rotator._easing,function(){if(f(this).attr("id")==H){K._rotator.showContent(I)}});if(M==H){clearInterval(K._intervalId);K._intervalId=null}M+=L},this._delay)};w.prototype.animateRandom=function(I){var K=this;v(this._arr);var H=0;var J=0;this._intervalId=setInterval(function(){f(K._arr[H++]).animate({opacity:1},K._rotator._duration,K._rotator._easing,function(){if(++J==K._total){K._rotator.showContent(I)}});if(H==K._total){clearInterval(K._intervalId);K._intervalId=null}},this._delay)};function p(H){this._$blockArr;this._$blocks;this._arr;this._numRows;this._numCols;this._total;this._intervalId;this._rotator=H;this._areaWidth=H._screenWidth;this._areaHeight=H._screenHeight;this._size=H._blockSize;this._delay=H._blockDelay;this.init()}p.prototype.init=function(){this._numRows=Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols;if(this._total>s){this._size=Math.ceil(Math.sqrt((this._areaHeight*this._areaWidth)/s));this._numRows=Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols}var K="";for(var J=0;J<this._numRows;J++){for(var I=0;I<this._numCols;I++){K+="<div class='block' id='"+J+"-"+I+"'></div>"}}this._rotator.addToScreen(K);this._$blocks=this._rotator._$obj.find("div.block");this._$blocks.data({tlId:"0-0",trId:"0-"+(this._numCols-1),blId:(this._numRows-1)+"-0",brId:(this._numRows-1)+"-"+(this._numCols-1)});var H=0;this._arr=this._$blocks.toArray();this._$blockArr=new Array(this._numRows);for(var J=0;J<this._numRows;J++){this._$blockArr[J]=new Array(this._numCols);for(var I=0;I<this._numCols;I++){this._$blockArr[J][I]=this._$blocks.filter("#"+(J+"-"+I)).data("top",J*this._size)}}};p.prototype.clear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$blocks.stop(true).css({"z-index":2,opacity:0})};p.prototype.displayContent=function(H,I){switch(I){case l["diag.fade"]:this.setBlocks(H,0,this._size,0);this.diagAnimate(H,{opacity:1},false);break;case l["diag.exp"]:this.setBlocks(H,0,0,0);this.diagAnimate(H,{opacity:1,width:this._size,height:this._size},false);break;case l["rev.diag.fade"]:this.setBlocks(H,0,this._size,0);this.diagAnimate(H,{opacity:1},true);break;case l["rev.diag.exp"]:this.setBlocks(H,0,0,0);this.diagAnimate(H,{opacity:1,width:this._size,height:this._size},true);break;case l["block.fade"]:this.setBlocks(H,0,this._size,0);this.randomAnimate(H);break;case l["block.exp"]:this.setBlocks(H,1,0,0);this.randomAnimate(H);break;case l["block.drop"]:this.setBlocks(H,1,this._size,-(this._numRows*this._size));this.randomAnimate(H);break;case l["block.top.zz"]:case l["block.bottom.zz"]:case l["block.left.zz"]:case l["block.right.zz"]:this.setBlocks(H,0,this._size,0);this.zigZag(H,I);break;case l["spiral.in"]:this.setBlocks(H,0,this._size,0);this.spiral(H,false);break;case l["spiral.out"]:this.setBlocks(H,0,this._size,0);this.spiral(H,true);break;default:this.setBlocks(H,1,0,0);this.dirAnimate(H,I)}};p.prototype.setBlocks=function(H,N,R,M){var O=0;var J=0;if(this._rotator._autoCenter){O=(this._areaHeight-H.height())/2;J=(this._areaWidth-H.width())/2}var P=H.attr("src");for(var L=0;L<this._numRows;L++){for(var K=0;K<this._numCols;K++){var Q=((-L*this._size)+O);var I=((-K*this._size)+J);this._$blockArr[L][K].css({background:"url('"+P+"') no-repeat",backgroundPosition:I+"px "+Q+"px",opacity:N,top:(L*this._size)+M,left:(K*this._size),width:R,height:R,"z-index":3})}}};p.prototype.diagAnimate=function(H,Q,M){var P=new Array(this._total);var I,L,J,K;var R=(this._numRows-1)+(this._numCols-1);if(M){I=R;L=-1;J=-1;K=this._$blocks.data("tlId")}else{I=0;L=R+1;J=1;K=this._$blocks.data("brId")}var O=0;while(I!=L){i=Math.min(this._numRows-1,I);while(i>=0){j=Math.abs(i-I);if(j>=this._numCols){break}P[O++]=this._$blockArr[i][j];i--}I+=J}O=0;var N=this;this._intervalId=setInterval(function(){P[O++].animate(Q,N._rotator._duration,N._rotator._easing,function(){if(f(this).attr("id")==K){N._rotator.showContent(H)}});if(O==N._total){clearInterval(N._intervalId);N._intervalId=null}},this._delay)};p.prototype.zigZag=function(I,P){var O=this;var M=true;var N=0,L=0,J,K,H;if(P==l["block.left.zz"]){K=(this._numCols%2==0)?this._$blocks.data("trId"):this._$blocks.data("brId");L=0;J=1;H=false}else{if(P==l["block.right.zz"]){K=(this._numCols%2==0)?this._$blocks.data("tlId"):this._$blocks.data("blId");L=this._numCols-1;J=-1;H=false}else{if(P==l["block.top.zz"]){K=(this._numRows%2==0)?this._$blocks.data("blId"):this._$blocks.data("brId");N=0;J=1;H=true}else{K=(this._numRows%2==0)?this._$blocks.data("tlId"):this._$blocks.data("trId");N=this._numRows-1;J=-1;H=true}}}this._intervalId=setInterval(function(){O._$blockArr[N][L].animate({opacity:1},O._duration,O._rotator._easing,function(){if(f(this).attr("id")==K){O._rotator.showContent(I)}});if(O._$blockArr[N][L].attr("id")==K){clearInterval(O._intervalId);O._intervalId=null}if(H){(M?L++:L--);if(L==O._numCols||L<0){M=!M;L=(M?0:O._numCols-1);N+=J}}else{(M?N++:N--);if(N==O._numRows||N<0){M=!M;N=(M?0:O._numRows-1);L+=J}}},this._delay)};p.prototype.dirAnimate=function(J,K){var N=new Array(this._total);var O;var M=0;switch(K){case l["block.left"]:O=this._$blocks.data("brId");for(var H=0;H<this._numCols;H++){for(var I=0;I<this._numRows;I++){N[M++]=this._$blockArr[I][H]}}break;case l["block.right"]:O=this._$blocks.data("blId");for(var H=this._numCols-1;H>=0;H--){for(var I=0;I<this._numRows;I++){N[M++]=this._$blockArr[I][H]}}break;case l["block.top"]:O=this._$blocks.data("brId");for(var I=0;I<this._numRows;I++){for(var H=0;H<this._numCols;H++){N[M++]=this._$blockArr[I][H]}}break;default:O=this._$blocks.data("trId");for(var I=this._numRows-1;I>=0;I--){for(var H=0;H<this._numCols;H++){N[M++]=this._$blockArr[I][H]}}}M=0;var L=this;this._intervalId=setInterval(function(){N[M++].animate({width:L._size,height:L._size},L._rotator._duration,L._rotator._easing,function(){if(f(this).attr("id")==O){L._rotator.showContent(J)}});if(M==L._total){clearInterval(L._intervalId);L._intervalId=null}},this._delay)};p.prototype.randomAnimate=function(I){v(this._arr);var H=0;count=0;var J=this;this._intervalId=setInterval(function(){f(J._arr[H]).animate({top:f(J._arr[H]).data("top"),width:J._size,height:J._size,opacity:1},J._rotator._duration,J._rotator._easing,function(){if(++count==J._total){J._rotator.showContent(I)}});H++;if(H==J._total){clearInterval(J._intervalId);J._intervalId=null}},this._delay)};p.prototype.spiral=function(H,P){var O=0,N=0;var T=this._numRows-1;var U=this._numCols-1;var J=0;var M=U;var S=new Array();while(T>=0&&U>=0){var R=0;while(true){S[S.length]=this._$blockArr[O][N];if((++R)>M){break}switch(J){case 0:N++;break;case 1:O++;break;case 2:N--;break;case 3:O--}}switch(J){case 0:J=1;M=(--T);O++;break;case 1:J=2;M=(--U);N--;break;case 2:J=3;M=(--T);O--;break;case 3:J=0;M=(--U);N++}}if(S.length>0){if(P){S.reverse()}var L=S.length-1;var I=S[L].attr("id");var K=0;var Q=this;this._intervalId=setInterval(function(){S[K].animate({opacity:1},Q._rotator._duration,Q._rotator._easing,function(){if(f(this).attr("id")==I){Q._rotator.showContent(H)}});if(K==L){clearInterval(Q._intervalId);Q._intervalId=null}K++},this._delay)}};function D(I,H){this._screenWidth=d(H.width,825);this._screenHeight=d(H.height,300);this._margin=E(H.button_margin,4);this._globalEffect=H.transition.toLowerCase();this._duration=d(H.transition_speed,z);this._globalDelay=d(H.delay,t);this._rotate=H.auto_start;this._cpPos=H.cpanel_position.toLowerCase();this._cpAlign=H.cpanel_align.toUpperCase();this._thumbWidth=d(H.thumb_width,24);this._thumbHeight=d(H.thumb_height,24);this._buttonWidth=d(H.button_width,24);this._buttonHeight=d(H.button_height,24);this._displayThumbImg=H.display_thumbimg;this._displayThumbs=H.display_thumbs;this._displaySideBtns=H.display_side_buttons;this._displayDBtns=H.display_dbuttons;this._displayPlayBtn=H.display_playbutton;this._displayNumbers=H.display_numbers;this._displayTimer=H.display_timer;this._cpMouseover=window.Touch?false:H.cpanel_mouseover;this._textMousover=window.Touch?false:H.text_mouseover;this._pauseMouseover=window.Touch?false:H.mouseover_pause;this._mouseoverSelect=window.Touch?false:H.mouseover_select;this._tipType=H.tooltip_type.toLowerCase();this._textEffect=H.text_effect.toLowerCase();this._textSync=H.text_sync;this._playOnce=H.play_once;this._autoCenter=H.auto_center;this._easing=H.easing;this._timerAlign=H.timer_align.toLowerCase();this._shuffle=H.shuffle;this._mousewheelScroll=H.mousewheel_scroll;this._vertSize=d(H.vert_size,b);this._horzSize=d(H.horz_size,b);this._blockSize=d(H.block_size,h);this._vertDelay=d(H.vstripe_delay,75);this._horzDelay=d(H.hstripe_delay,75);this._blockDelay=d(H.block_delay,25);this._numItems;this._currIndex;this._prevIndex;this._delay;this._vStripes;this._hStripes;this._blocks;this._timerId;this._blockEffect;this._hStripeEffect;this._vStripeEffect;this._dir;this._cpVertical;this._slideCoord;this._$rotator;this._$screen;this._$strip;this._$mainLink;this._$textBox;this._$preloader;this._$cpWrapper;this._$cpanel;this._$thumbPanel;this._$list;this._$thumbs;this._$buttonPanel;this._$playBtn;this._$sPrev;this._$sNext;this._$timer;this._$tooltip;this._$items;this._$innerText;this._$obj=I;this._$cloneDom;this.init()}D.prototype.init=function(){this._$cloneDom=this._$obj.find(">div:first").clone();this._$rotator=this._$obj.find(".wt-rotator");this._$screen=this._$rotator.find("div.screen");this._$cpanel=this._$rotator.find("div.c-panel");this._$buttonPanel=this._$cpanel.find("div.buttons");this._$thumbPanel=this._$cpanel.find("div.thumbnails");this._$list=this._$thumbPanel.find(">ul");this._$thumbs=this._$list.find(">li");this._timerId=null;this._currIndex=0;this._prevIndex=-1;this._numItems=this._$thumbs.size();this._$items=new Array(this._numItems);this._blockEffect=this._hStripeEffect=this._vStripeEffect=false;this.checkEffect(l[this._globalEffect]);this._cpVertical=m[this._cpAlign]>=m.LT?true:false;if(this._numItems<=1){this._rotate=this._displaySideBtns=this._displayDBtns=this._displayPlayBtn=this._displayTimer=this._mousewheelScroll=this._pauseMouseover=false}if(this._displaySideBtns){this._displayDBtns=false}if(this._displayThumbImg){this._displayNumbers=false;if(this._tipType=="image"){this._tipType="none"}}if(this._shuffle){this.shuffleItems()}this._$rotator.css({width:this._screenWidth,height:this._screenHeight});this.initScreen();this.initButtons();this.initItems();this.initCPanel();this.initTimerBar();if(this._textMousover){this._$rotator.bind("mouseenter",{elem:this},this.displayText).bind("mouseleave",{elem:this},this.hideText)}else{this._$rotator.bind(g,{elem:this},this.updateText)}if(this._vStripeEffect){this._vStripes=new c(this)}if(this._hStripeEffect){this._hStripes=new w(this)}if(this._blockEffect){this._blocks=new p(this)}if(window.Touch){this._slideCoord={start:-1,end:-1};if(this._globalEffect=="v.slide"){this._$rotator.bind("touchstart",{elem:this},this.touchVStart).bind("touchmove",{elem:this},this.touchVMove)}else{this._$rotator.bind("touchstart",{elem:this},this.touchStart).bind("touchmove",{elem:this},this.touchMove)}this._$rotator.bind("touchend",{elem:this},this.touchEnd)}else{if(this._mousewheelScroll){try{this._$rotator.bind("mousewheel",{elem:this},this.mouseScrollContent).bind("DOMMouseScroll",{elem:this},this.mouseScrollContent)}catch(H){}}}if(!a(6)){this.loadImg(0)}this.loadContent(this._currIndex)};D.prototype.touchStart=function(H){H.data.elem._slideCoord.start=H.originalEvent.touches[0].pageX};D.prototype.touchMove=function(H){H.preventDefault();H.data.elem._slideCoord.end=H.originalEvent.touches[0].pageX};D.prototype.touchVStart=function(H){H.data.elem._slideCoord.start=H.originalEvent.touches[0].pageY};D.prototype.touchVMove=function(H){H.preventDefault();H.data.elem._slideCoord.end=H.originalEvent.touches[0].pageY};D.prototype.touchEnd=function(I){var H=I.data.elem;if(H._slideCoord.end>=0){if(Math.abs(H._slideCoord.start-H._slideCoord.end)>k){if(H._slideCoord.end<H._slideCoord.start){H.nextImg()}else{H.prevImg()}}}H._slideCoord.start=H._slideCoord.end=-1};D.prototype.addToScreen=function(H){this._$mainLink.append(H)};D.prototype.initScreen=function(){var H="<div class='desc'><div class='inner-bg'></div><div class='inner-text'></div></div>						<div class='preloader'></div>						<div class='timer'></div>";this._$screen.append(H);this._$textBox=this._$screen.find("div.desc");this._$preloader=this._$screen.find("div.preloader");this._$screen.css({width:this._screenWidth,height:this._screenHeight});this._$innerText=this._$textBox.find("div.inner-text");this._$strip=f("<div class='strip'></div>");if(this._globalEffect=="h.slide"){this._$screen.append(this._$strip);this._$strip.css({width:2*this._screenWidth,height:this._screenHeight});this._$thumbs.removeAttr("effect")}else{if(this._globalEffect=="v.slide"){this._$screen.append(this._$strip);this._$strip.css({width:this._screenWidth,height:2*this._screenHeight});this._$thumbs.removeAttr("effect")}else{this._$screen.append("<a href='#'></a>");this._$mainLink=this._$screen.find(">a:first")}}};D.prototype.initCPanel=function(){if(this._displayThumbs||this._displayDBtns||this._displayPlayBtn){if(this._cpPos==n){switch(m[this._cpAlign]){case m.BL:this.setHPanel("left");this.setInsideHP("bottom");break;case m.BC:this.setHPanel("center");this.setInsideHP("bottom");break;case m.BR:this.setHPanel("right");this.setInsideHP("bottom");break;case m.TL:this.setHPanel("left");this.setInsideHP("top");break;case m.TC:this.setHPanel("center");this.setInsideHP("top");break;case m.TR:this.setHPanel("right");this.setInsideHP("top");break;case m.LT:this.setVPanel("top");this.setInsideVP("left");break;case m.LC:this.setVPanel("center");this.setInsideVP("left");break;case m.LB:this.setVPanel("bottom");this.setInsideVP("left");break;case m.RT:this.setVPanel("top");this.setInsideVP("right");break;case m.RC:this.setVPanel("center");this.setInsideVP("right");break;case m.RB:this.setVPanel("bottom");this.setInsideVP("right");break}if(this._cpMouseover){var H=this._cpVertical?"left":"top";this._$rotator.bind("mouseenter",{elem:this,dir:H},this.displayCPanel).bind("mouseleave",{elem:this,dir:H},this.hideCPanel)}}else{switch(m[this._cpAlign]){case m.BL:this.setHPanel("left");this.setOutsideHP(false);break;case m.BC:this.setHPanel("center");this.setOutsideHP(false);break;case m.BR:this.setHPanel("right");this.setOutsideHP(false);break;case m.TL:this.setHPanel("left");this.setOutsideHP(true);break;case m.TC:this.setHPanel("center");this.setOutsideHP(true);break;case m.TR:this.setHPanel("right");this.setOutsideHP(true);break;case m.LT:this.setVPanel("top");this.setOutsideVP(true);break;case m.LC:this.setVPanel("center");this.setOutsideVP(true);break;case m.LB:this.setVPanel("bottom");this.setOutsideVP(true);break;case m.RT:this.setVPanel("top");this.setOutsideVP(false);break;case m.RC:this.setVPanel("center");this.setOutsideVP(false);break;case m.RB:this.setVPanel("bottom");this.setOutsideVP(false);break}}this._$cpanel.css("visibility","visible").click(q)}};D.prototype.setHPanel=function(I){this._$cpanel.css({"margin-top":this._margin,"margin-bottom":this._margin,height:Math.max(this._$thumbPanel.outerHeight(true),this._$buttonPanel.outerHeight(true))});var H;if(I=="center"){H=Math.round((this._screenWidth-this._$cpanel.width()-this._margin)/2)}else{if(I=="left"){H=this._margin}else{H=this._screenWidth-this._$cpanel.width()}}this._$cpanel.css("left",H)};D.prototype.setVPanel=function(I){this._$cpanel.css({"margin-left":this._margin,"margin-right":this._margin,width:Math.max(this._$thumbPanel.outerWidth(true),this._$buttonPanel.outerWidth(true))});var H;if(I=="center"){H=Math.round((this._screenHeight-this._$cpanel.height()-this._margin)/2)}else{if(I=="top"){H=this._margin}else{H=this._screenHeight-this._$cpanel.height()}}this._$cpanel.css("top",H)};D.prototype.setInsideHP=function(J){var I,H;if(J=="top"){H=0;I=-this._$cpanel.outerHeight(true)}else{H=this._screenHeight-this._$cpanel.outerHeight(true);I=this._screenHeight}this._$cpanel.data({offset:I,pos:H}).css({top:(this._cpMouseover?I:H)})};D.prototype.setInsideVP=function(J){var I,H;if(J=="left"){H=0;I=-this._$cpanel.outerWidth(true)}else{H=this._screenWidth-this._$cpanel.outerWidth(true);I=this._screenWidth}this._$cpanel.data({offset:I,pos:H}).css({left:(this._cpMouseover?I:H)})};D.prototype.setOutsideHP=function(H){this._$cpanel.wrap("<div class='outer-hp'></div>");this._$cpWrapper=this._$rotator.find(".outer-hp");this._$cpWrapper.height(this._$cpanel.outerHeight(true));if(H){this._$cpWrapper.css({"border-top":"none",top:0});this._$screen.css("top",this._$cpWrapper.outerHeight())}else{this._$cpWrapper.css({"border-bottom":"none",top:this._screenHeight});this._$screen.css("top",0)}this._$rotator.css({height:this._screenHeight+this._$cpWrapper.outerHeight()})};D.prototype.setOutsideVP=function(H){this._$cpanel.wrap("<div class='outer-vp'></div>");this._$cpWrapper=this._$rotator.find(".outer-vp");this._$cpWrapper.width(this._$cpanel.outerWidth(true));if(H){this._$cpWrapper.css({"border-left":"none",left:0});this._$screen.css("left",this._$cpWrapper.outerWidth())}else{this._$cpWrapper.css({"border-right":"none",left:this._screenWidth});this._$screen.css("left",0)}this._$rotator.css({width:this._screenWidth+this._$cpWrapper.outerWidth()})};D.prototype.initButtons=function(){this._$playBtn=this._$buttonPanel.find("div.play-btn");var J=this._$buttonPanel.find("div.prev-btn");var K=this._$buttonPanel.find("div.next-btn");if(this._displayDBtns){J.bind("click",{elem:this},this.prevImg);K.bind("click",{elem:this},this.nextImg)}else{J.hide();K.hide()}if(this._displayPlayBtn){this._$playBtn.toggleClass("pause",this._rotate).bind("click",{elem:this},this.togglePlay)}else{this._$playBtn.hide()}if(this._pauseMouseover){this._$rotator.bind("mouseenter",{elem:this},this.pause).bind("mouseleave",{elem:this},this.play)}if(this._displaySideBtns){this._$screen.append("<div class='s-prev'></div><div class='s-next'></div>");this._$sPrev=this._$screen.find(".s-prev");this._$sNext=this._$screen.find(".s-next");this._$sPrev.bind("click",{elem:this},this.prevImg).mousedown(q);this._$sNext.bind("click",{elem:this},this.nextImg).mousedown(q);if(this._cpMouseover){this._$sPrev.css("left",-this._$sPrev.width());this._$sNext.css("margin-left",0);this._$rotator.bind("mouseenter",{elem:this},this.showSideButtons).bind("mouseleave",{elem:this},this.hideSideButtons)}}var I=this._$buttonPanel.find(">div").css({width:this._buttonWidth,height:this._buttonHeight}).mousedown(q);if(this._cpVertical){J.addClass("up");K.addClass("down");I.css("margin-bottom",this._margin);this._$buttonPanel.width(I.outerWidth());if(B){this._$buttonPanel.height(this._$buttonPanel.find(">div:visible").size()*I.outerHeight(true))}if(this._displayThumbs&&this._thumbWidth>this._buttonWidth){var H=this._thumbWidth-this._buttonWidth;switch(m[this._cpAlign]){case m.RT:case m.RC:case m.RB:this._$buttonPanel.css("margin-left",H);break;default:this._$buttonPanel.css("margin-right",H)}}}else{I.css("margin-right",this._margin);this._$buttonPanel.height(I.outerHeight());if(B){this._$buttonPanel.width(this._$buttonPanel.find(">div:visible").size()*I.outerWidth(true))}if(this._displayThumbs&&this._thumbHeight>this._buttonHeight){var H=this._thumbHeight-this._buttonHeight;switch(m[this._cpAlign]){case m.TL:case m.TC:case m.TR:this._$buttonPanel.css("margin-bottom",H);break;default:this._$buttonPanel.css("margin-top",H)}}}};D.prototype.initTimerBar=function(){this._$timer=this._$screen.find(".timer").data("pct",1);if(this._displayTimer){this._$timer.css("visibility","visible");this._$timer.css("top",this._timerAlign=="top"?0:this._screenHeight-this._$timer.height())}else{this._$timer.hide()}};D.prototype.initItems=function(){var R=this;var T=this._$innerText.outerHeight()-this._$innerText.height();var P=this._$thumbs.size();for(var N=0;N<P;N++){var X=this._$thumbs.eq(N);var K=X.find(">a:first");var M=l[X.attr("effect")];if((typeof M=="undefined")||M==l["h.slide"]||M==l["v.slide"]){M=l[this._globalEffect]}else{this.checkEffect(M)}X.data({imgurl:K.attr("href"),caption:K.attr("title"),effect:M,delay:d(X.attr("delay"),this._globalDelay)});this.initTextData(X,T);this._$items[N]=X;if(this._displayNumbers){X.append(N+1)}}this._$innerText.css({width:"auto",height:"auto"}).html("");this._$textBox.css("visibility","visible");if(this._displayThumbs){if(this._displayThumbImg){this._$thumbs.addClass("image");this._$thumbs.find(">a").removeAttr("title");var Q=this._$thumbs.find(">a>img");Q.removeAttr("alt");var J=Q.size();for(var N=0;N<J;N++){var I=Q.eq(N);if(I[0].complete||I[0].readyState=="complete"){I.css({top:(this._thumbHeight-I.height())/2,left:(this._thumbWidth-I.width())/2})}else{I.load(function(){f(this).css({top:(R._thumbHeight-f(this).height())/2,left:(R._thumbWidth-f(this).width())/2})})}}}this._$thumbs.css({width:this._thumbWidth,height:this._thumbHeight,"line-height":this._thumbHeight+"px"}).mousedown(q);if(this._mouseoverSelect){this._$thumbs.bind("mouseover",{elem:this},this.selectItem)}else{this._$thumbPanel.bind("click",{elem:this},this.selectItem)}if(this._cpVertical){this._$thumbs.css("margin-bottom",this._margin);this._$list.width(this._$thumbs.outerWidth());this._$thumbPanel.width(this._$list.width());if(B){this._$thumbPanel.height(this._numItems*this._$thumbs.outerHeight(true))}if((this._displayDBtns||this._displayPlayBtn)&&(this._buttonWidth>this._thumbWidth)){var L=this._buttonWidth-this._thumbWidth;switch(m[this._cpAlign]){case m.RT:case m.RC:case m.RB:this._$thumbPanel.css("margin-left",L);break;default:this._$thumbPanel.css("margin-right",L)}}var V=this._screenHeight-(this._$buttonPanel.height()+this._margin);if(this._$thumbPanel.height()>V){var H=this._$thumbs.outerHeight(true);this._$list.addClass("inside").height(this._numItems*H);this._$thumbPanel.css({height:Math.floor(V/H)*H-this._margin,"margin-bottom":this._margin});var O=this._$thumbPanel.height()-(this._$list.height()-this._margin);this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var W=this._$thumbPanel.find(".back-scroll");var S=this._$thumbPanel.find(".fwd-scroll");W.css({height:H,width:"100%"});S.css({height:H,width:"100%",top:"100%","margin-top":-H});if(!window.Touch){W.bind("mouseenter",function(){S.show();var Y=-R._$list.stop(true).position().top*A;R._$list.stop(true).animate({top:0},Y,"linear",function(){W.hide()})}).bind("mouseleave",{elem:this},this.stopList);S.bind("mouseenter",function(){W.show();var Y=(-O+R._$list.stop(true).position().top)*A;R._$list.stop(true).animate({top:O},Y,"linear",function(){S.hide()})}).bind("mouseleave",{elem:this},this.stopList)}else{W.hide();S.hide()}this._$rotator.bind(x,function(){if(!R._$list.is(":animated")){var Y=R._$list.position().top+(R._currIndex*H);if(Y<0||Y>R._$thumbPanel.height()-R._$thumbs.outerHeight()){Y=-R._currIndex*H;if(Y<O){Y=O}R._$list.stop(true).animate({top:Y},y,function(){if(!window.Touch){f(this).position().top==0?W.hide():W.show();f(this).position().top==O?S.hide():S.show()}})}}})}}else{this._$thumbs.css("margin-right",this._margin);this._$list.height(this._$thumbs.outerHeight());this._$thumbPanel.height(this._$list.height());if(B){this._$thumbPanel.width(this._numItems*this._$thumbs.outerWidth(true))}if((this._displayDBtns||this._displayPlayBtn)&&this._buttonHeight>this._thumbHeight){var L=this._buttonHeight-this._thumbHeight;switch(m[this._cpAlign]){case m.TL:case m.TC:case m.TR:this._$thumbPanel.css("margin-bottom",L);break;default:this._$thumbPanel.css("margin-top",L)}}var U=this._screenWidth-(this._$buttonPanel.width()+this._margin);if(this._$thumbPanel.width()>U){var H=this._$thumbs.outerWidth(true);this._$list.addClass("inside").width(this._numItems*H);this._$thumbPanel.css({width:Math.floor(U/H)*H-this._margin,"margin-right":this._margin});var O=this._$thumbPanel.width()-(this._$list.width()-this._margin);this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var W=this._$thumbPanel.find(".back-scroll");var S=this._$thumbPanel.find(".fwd-scroll");W.css({width:H,height:"100%"});S.css({width:H,height:"100%",left:"100%","margin-left":-H});if(!window.Touch){W.bind("mouseenter",function(){S.show();var Y=-R._$list.stop(true).position().left*A;R._$list.stop(true).animate({left:0},Y,"linear",function(){W.hide()})}).bind("mouseleave",{elem:this},this.stopList);S.bind("mouseenter",function(){W.show();var Y=(-O+R._$list.stop(true).position().left)*A;R._$list.stop(true).animate({left:O},Y,"linear",function(){S.hide()})}).bind("mouseleave",{elem:this},this.stopList)}this._$rotator.bind(x,function(){if(!R._$list.is(":animated")){var Y=R._$list.position().left+(R._currIndex*H);if(Y<0||Y>R._$thumbPanel.width()-R._$thumbs.outerWidth()){Y=-R._currIndex*H;if(Y<O){Y=O}R._$list.stop(true).animate({left:Y},y,function(){f(this).position().left==0?W.hide():W.show();f(this).position().left==O?S.hide():S.show()})}}})}}this.initTooltip()}else{this._$thumbs.hide()}};D.prototype.initTextData=function(H,J){var I=H.find(">div:hidden");var L=d(parseInt(I.css("width"))-J,300);var K=d(parseInt(I.css("height"))-J,0);this._$innerText.width(L).html(I.html());if(K<this._$innerText.height()){K=this._$innerText.height()}H.data("textbox",{x:I.css("left"),y:I.css("top"),w:L+J,h:K+J+1,color:I.css("color"),bgcolor:I.css("background-color")})};D.prototype.initTooltip=function(){if(this._tipType=="text"){f("body").append("<div id='rotator-tooltip'><div class='tt-txt'></div></div>");this._$tooltip=f("body").find("#rotator-tooltip");this._$thumbs.bind("mouseover",{elem:this},this.showTooltip).bind("mouseout",{elem:this},this.hideTooltip).bind("mousemove",{elem:this},this.moveTooltip);switch(m[this._cpAlign]){case m.TL:case m.TC:case m.TR:this._$tooltip.data("bottom",true).addClass("txt-down");break;default:this._$tooltip.data("bottom",false).addClass("txt-up")}}else{if(this._tipType=="image"){var K="<div id='rotator-tooltip'>";for(var J=0;J<this._numItems;J++){var I=this._$items[J].find(">a:first>img");if(I.size()==1){K+="<img src='"+I.attr("src")+"' />"}else{K+="<img/>"}}K+="</div>";f("body").append(K);this._$tooltip=f("body").find("#rotator-tooltip");switch(m[this._cpAlign]){case m.TL:case m.TC:case m.TR:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip);this._$tooltip.data("bottom",true).addClass("img-down");break;case m.LT:case m.LC:case m.LB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",true).addClass("img-right");break;case m.RT:case m.RC:case m.RB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",false).addClass("img-left");break;default:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip);this._$tooltip.data("bottom",false).addClass("img-up")}this._$thumbs.bind("mouseout",{elem:this},this.hideTooltip)}}if(a(6)){try{this._$tooltip.css("background-image","none").children().css("margin",0)}catch(H){}}};D.prototype.showHImgTooltip=function(J){var I=J.data.elem;var H=I._$tooltip.find(">img").eq(f(this).index());if(H.attr("src")){I._$tooltip.find(">img").hide();H.show();if(H[0].complete||H[0].readyState=="complete"){var L=I._$tooltip.data("bottom")?f(this).outerHeight():-I._$tooltip.outerHeight();var K=f(this).offset();I._$tooltip.css({top:K.top+L,left:K.left+((f(this).outerWidth()-I._$tooltip.outerWidth())/2)}).stop(true,true).delay(r).fadeIn(300)}}};D.prototype.showVImgTooltip=function(K){var J=K.data.elem;var H=J._$tooltip.find(">img").eq(f(this).index());if(H.attr("src")){J._$tooltip.find(">img").hide();H.show();if(H[0].complete||H[0].readyState=="complete"){var I=J._$tooltip.data("right")?f(this).outerWidth():-J._$tooltip.outerWidth();var L=f(this).offset();J._$tooltip.css({top:L.top+((f(this).outerHeight()-J._$tooltip.outerHeight())/2),left:L.left+I}).stop(true,true).delay(r).fadeIn(300)}}};D.prototype.showTooltip=function(J){var I=J.data.elem;var H=I._$items[f(this).index()].data("caption");if(H!=""){I._$tooltip.find(">div.tt-txt").html(H);var K=I._$tooltip.data("bottom")?0:-I._$tooltip.outerHeight(true);I._$tooltip.css({top:J.pageY+K,left:J.pageX}).stop(true,true).delay(r).fadeIn(300)}};D.prototype.moveTooltip=function(I){var H=I.data.elem;var J=H._$tooltip.data("bottom")?0:-H._$tooltip.outerHeight(true);H._$tooltip.css({top:I.pageY+J,left:I.pageX})};D.prototype.hideTooltip=function(I){var H=(typeof I!="undefined")?I.data.elem:this;H._$tooltip.stop(true,true).hide()};D.prototype.displayCPanel=function(I){var H=I.data.elem;var J={};J[I.data.dir]=H._$cpanel.data("pos");J.opacity=1;H._$cpanel.stop(true).animate(J,y)};D.prototype.hideCPanel=function(I){var H=I.data.elem;var J={};J[I.data.dir]=H._$cpanel.data("offset");J.opacity=0;H._$cpanel.stop(true).animate(J,y)};D.prototype.showSideButtons=function(I){var H=I.data.elem;H._$sPrev.stop(true).animate({left:0},y);H._$sNext.stop(true).animate({"margin-left":-H._$sNext.width()},y)};D.prototype.hideSideButtons=function(I){var H=I.data.elem;H._$sPrev.stop(true).animate({left:-H._$sPrev.width()},y);H._$sNext.stop(true).animate({"margin-left":0},y)};D.prototype.selectItem=function(K){var J=K.data.elem;var H=f(K.target);if(H[0].nodeName!="LI"){H=H.parents("li").eq(0)}var I=H.index();if(I>-1&&I!=J._currIndex){J._dir=I<J._currIndex?F:G;J.resetTimer();J._prevIndex=J._currIndex;J._currIndex=I;J.loadContent(J._currIndex);J.hideTooltip()}return false};D.prototype.prevImg=function(I){var H=(typeof I!="undefined")?I.data.elem:this;H._dir=F;H.resetTimer();H._prevIndex=H._currIndex;H._currIndex=(H._currIndex>0)?(H._currIndex-1):(H._numItems-1);H.loadContent(H._currIndex);return false};D.prototype.nextImg=function(I){var H=(typeof I!="undefined")?I.data.elem:this;H._dir=G;H.resetTimer();H._prevIndex=H._currIndex;H._currIndex=(H._currIndex<H._numItems-1)?(H._currIndex+1):0;H.loadContent(H._currIndex);return false};D.prototype.togglePlay=function(I){var H=I.data.elem;H._rotate=!H._rotate;H._$playBtn.toggleClass("pause",H._rotate);H._rotate?H.startTimer():H.pauseTimer();return false};D.prototype.play=function(I){var H=I.data.elem;H._rotate=true;H._$playBtn.addClass("pause");H.startTimer()};D.prototype.pause=function(I){var H=I.data.elem;H._rotate=false;H._$playBtn.removeClass("pause");H.pauseTimer()};D.prototype.pauseLast=function(H){if(H==this._numItems-1){this._rotate=false;this._$playBtn.removeClass("pause")}};D.prototype.updateText=function(J){var H=J.data.elem;if(!H._$textBox.data("visible")){H._$textBox.data("visible",true);var K=H._$items[H._currIndex].find(">div:first").html();if(K&&K.length>0){var I=H._$items[H._currIndex].data("textbox");H._$innerText.css("color",I.color);H._$textBox.find(".inner-bg").css({"background-color":I.bgcolor,height:I.h-1});switch(C[H._textEffect]){case C.fade:H.fadeInText(K,I);break;case C.down:H.expandText(K,I,{width:I.w,height:0},{height:I.h});break;case C.right:H.expandText(K,I,{width:0,height:I.h},{width:I.w});break;case C.left:H.expandText(K,I,{"margin-left":I.w,width:0,height:I.h},{width:I.w,"margin-left":0});break;case C.up:H.expandText(K,I,{"margin-top":I.h,height:0,width:I.w},{height:I.h,"margin-top":0});break;default:H.showText(K,I)}}}};D.prototype.resetText=function(){this._$textBox.data("visible",false).stop(true,true);switch(C[this._textEffect]){case C.fade:case C.down:case C.right:case C.left:case C.up:if(jQuery.browser.msie){this._$innerText.css("opacity",0)}this._$textBox.fadeOut(y,function(){f(this).css("display","none")});break;default:this._$textBox.css("display","none")}};D.prototype.expandText=function(L,K,J,H){var I=this;this._$innerText.css("opacity",1).html("");this._$textBox.stop(true,true).css({display:"block",top:K.y,left:K.x,"margin-top":0,"margin-left":0}).css(J).animate(H,y,function(){I._$innerText.html(L)})};D.prototype.fadeInText=function(J,I){var H=this;this._$innerText.css("opacity",1).html(J);this._$textBox.css({top:I.y,left:I.x,width:I.w,height:I.h}).stop(true,true).fadeIn(y,function(){if(jQuery.browser.msie){H._$innerText[0].style.removeAttribute("filter")}})};D.prototype.showText=function(I,H){this._$textBox.stop(true).css({display:"block",top:H.y,left:H.x,width:H.w,height:H.h});this._$innerText.html(I)};D.prototype.displayText=function(I){var H=I.data.elem;H._$rotator.unbind(g).bind(g,{elem:H},H.updateText).trigger(g)};D.prototype.hideText=function(I){var H=I.data.elem;H._$rotator.unbind(g);H.resetText()};D.prototype.loadContent=function(J){this._$rotator.trigger(x);if(this._playOnce){this.pauseLast(J)}this._$thumbs.filter(".curr-thumb").removeClass("curr-thumb");this._$thumbs.eq(J).addClass("curr-thumb");this._delay=this._$items[J].data("delay");this.resetText();if(!this._textSync){this._$rotator.trigger(g)}if(this._$mainLink){var L=this._$items[J].find(">a:nth-child(2)");var H=L.attr("href");if(H){this._$mainLink.unbind("click",q).css("cursor","pointer").attr({href:H,target:L.attr("target")})}else{this._$mainLink.click(q).css("cursor","default")}}if(this._$items[J].data("img")){this._$preloader.hide();this.displayContent(this._$items[J].data("img"))}else{var K=this;var I=f("<img class='main-img'/>");I.load(function(){K._$preloader.hide();K.storeImg(K._$items[J],f(this));K.displayContent(f(this))}).error(function(){alert("Error loading image")});this._$preloader.show();I.attr("src",this._$items[J].data("imgurl"))}};D.prototype.displayContent=function(H){if(this._vStripeEffect){this._vStripes.clear()}if(this._hStripeEffect){this._hStripes.clear()}if(this._blockEffect){this._blocks.clear()}if(this._vStripeEffect||this._hStripeEffect||this._blockEffect){this.setPrevious()}var I=this._$items[this._currIndex].data("effect");if(I==l.none||(typeof I=="undefined")){this.showContent(H);return}else{if(I==l.fade){this.fadeInContent(H);return}else{if(I==l["h.slide"]){this.slideContent(H,"left",this._screenWidth);return}else{if(I==l["v.slide"]){this.slideContent(H,"top",this._screenHeight);return}}}}if(I==l.random){I=Math.floor(Math.random()*(e-5))}if(I<=l["spiral.out"]){this._blocks.displayContent(H,I)}else{if(I<=l["vert.random.fade"]){this._vStripes.displayContent(H,I)}else{this._hStripes.displayContent(H,I)}}};D.prototype.setPrevious=function(){if(this._prevIndex>=0){var I=this._$mainLink.find("img#curr-img").attr("src");var J=this._$items[this._prevIndex].data("imgurl");if(I!=J){this._$mainLink.find("img.main-img").attr("id","").hide();var H=this._$mainLink.find("img.main-img").filter(function(){return f(this).attr("src")==J});H.eq(0).show()}}};D.prototype.showContent=function(H){if(this._textSync){this._$rotator.trigger(g)}this._$mainLink.find("img.main-img").attr("id","").hide();H.attr("id","curr-img").show();this.startTimer()};D.prototype.fadeInContent=function(H){var I=this;this._$mainLink.find("img#curr-img").stop(true,true);this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);H.attr("id","curr-img").stop(true,true).css({opacity:0,"z-index":1}).show().animate({opacity:1},this._duration,this._easing,function(){I._$mainLink.find("img.main-img:not('#curr-img')").hide();if(I._textSync){I._$rotator.trigger(g)}I.startTimer()})};D.prototype.slideContent=function(M,O,L){this._$strip.stop(true,true);var H=f("#curr-img",this._$strip);if(H.size()>0){this._$strip.find(".main-img").attr("id","").parents(".content-box").css({top:0,left:0});M.attr("id","curr-img").parents(".content-box").show();var J,I;if(this._dir==F){this._$strip.css(O,-L);J=H;I=0}else{J=M;I=-L}J.parents(".content-box").css(O,L);var N=(O=="top")?{top:I}:{left:I};var K=this;this._$strip.stop(true,true).animate(N,this._duration,this._easing,function(){K._$strip.find(".main-img:not('#curr-img')").parents(".content-box").hide();K._$strip.find("#curr-img").parents(".content-box").show();J.parents(".content-box").css({top:0,left:0});K._$strip.css({top:0,left:0});if(K._textSync){K._$rotator.trigger(g)}K.startTimer()})}else{this._$strip.css({top:0,left:0});this._$strip.find(".main-img").parents(".content-box").hide().css({top:0,left:0});M.attr("id","curr-img").parents(".content-box").show();if(this._textSync){this._$rotator.trigger(g)}this.startTimer()}};D.prototype.loadImg=function(I){try{var H=this._$items[I];var K=f("<img class='main-img'/>");var L=this;K.load(function(){if(!H.data("img")){L.storeImg(H,f(this))}I++;if(I<L._numItems){L.loadImg(I)}}).error(function(){I++;if(I<L._numItems){L.loadImg(I)}});K.attr("src",H.data("imgurl"))}catch(J){}};D.prototype.storeImg=function(J,K){if(this._globalEffect=="h.slide"||this._globalEffect=="v.slide"){this._$strip.append(K);this.centerImg(K);var H=f("<div class='content-box'></div>").css({width:this._screenWidth,height:this._screenHeight});K.wrap(H);K.css("display","block");var I=J.find(">a:nth-child(2)");if(I){K.wrap(I)}}else{this._$mainLink.append(K);this.centerImg(K)}J.data("img",K)};D.prototype.centerImg=function(H){if(this._autoCenter&&H.width()>0&&H.height()>0){H.css({top:(this._screenHeight-H.height())/2,left:(this._screenWidth-H.width())/2})}};D.prototype.startTimer=function(){if(this._rotate&&this._timerId==null){var H=this;var I=Math.round(this._$timer.data("pct")*this._delay);this._$timer.stop(true).animate({width:(this._screenWidth+1)},I,"linear");this._timerId=setTimeout(function(J){H._dir=G;H.resetTimer();H._prevIndex=H._currIndex;H._currIndex=(H._currIndex<H._numItems-1)?(H._currIndex+1):0;H.loadContent(H._currIndex)},I)}};D.prototype.resetTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true).width(0).data("pct",1)};D.prototype.pauseTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true);var H=1-(this._$timer.width()/(this._screenWidth+1));this._$timer.data("pct",H)};D.prototype.stopList=function(H){H.data.elem._$list.stop(true)};D.prototype.shuffleItems=function(){var J=this._$thumbs.toArray();for(var K=0;K<this._numItems;K++){var H=Math.floor(Math.random()*this._numItems);var I=J[K];J[K]=J[H];J[H]=I}for(var K=0;K<this._numItems;K++){this._$list.append(f(J[K]))}this._$thumbs=this._$list.find(">li")};D.prototype.checkEffect=function(H){if(H==l.random){this._blockEffect=this._hStripeEffect=this._vStripeEffect=true}else{if(H<=l["spiral.out"]){this._blockEffect=true}else{if(H<=l["vert.random.fade"]){this._vStripeEffect=true}else{if(H<=l["horz.random.fade"]){this._hStripeEffect=true}}}}};D.prototype.mouseScrollContent=function(I){var H=I.data.elem;if(!H._$strip.is(":animated")){var J=(typeof I.originalEvent.wheelDelta=="undefined")?-I.originalEvent.detail:I.originalEvent.wheelDelta;J>0?H.prevImg():H.nextImg()}return false};function q(){return false}function d(H,I){if(!isNaN(H)&&H>0){return H}return I}function E(H,I){if(!isNaN(H)&&H>=0){return H}return I}function a(H){if(jQuery.browser.msie&&parseInt(jQuery.browser.version)<=H){return true}return false}function v(H){var L=H.length;for(var K=0;K<L;K++){var I=Math.floor(Math.random()*L);var J=H[K];H[K]=H[I];H[I]=J}}f.fn.wtRotator=function(J){var I={width:825,height:300,thumb_width:24,thumb_height:24,button_width:24,button_height:24,button_margin:4,auto_start:true,delay:t,transition:"fade",transition_speed:z,cpanel_position:n,cpanel_align:"BR",timer_align:"top",display_thumbs:true,display_side_buttons:false,display_dbuttons:true,display_playbutton:true,display_imgtooltip:true,display_numbers:true,display_thumbimg:false,display_timer:true,mouseover_select:false,mouseover_pause:false,cpanel_mouseover:false,text_mouseover:false,text_effect:"fade",text_sync:true,tooltip_type:"text",shuffle:false,play_once:false,auto_center:false,block_size:h,vert_size:b,horz_size:b,block_delay:25,vstripe_delay:75,hstripe_delay:75,easing:"",mousewheel_scroll:true};var H=f.extend({},I,J);return this.each(function(){o=new D(f(this),H)})}})(jQuery);